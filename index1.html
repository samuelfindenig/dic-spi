<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>SPI - Serial Peripheral Interface</title>

    <!-- Reveal.js core styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/black.min.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai.min.css">

    <!-- Custom styling -->
    <style>
      :root {
        --r-main-font: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        --r-heading-font: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        --r-link-color: #00adee;
        --r-selection-background-color: #00adee;
      }

      .reveal h1,
      .reveal h2,
	  .reveal h4, 
      .reveal h3 {
        text-transform: none;
        font-weight: 600;
        color: #00adee;

      }

	  .reveal h1 {
		font-size: 14pt;
	  }


      .reveal p,
      .reveal li {
        font-size: 0.8em;
        line-height: 1.2em;
      }

      ul {
        list-style: none;
        padding-left: 0;
      }

      li::before {
        content: "";
        color: #00adee;
        font-weight: bold;
      }

      .author {
        font-size: 0.9em;
        opacity: 0.8;
      }

      .subsection {
        font-size: 1.3em;
        color: #00adee;
        margin-bottom: 0.5em;
      }

      code {
        background: rgba(255, 255, 255, 0.1);
        padding: 0.2em 0.4em;
        border-radius: 5px;
        font-family: 'Courier New', monospace;
      }

      .code-container {
        background: #2d2d2d;
        padding: 15px;
        border-radius: 10px;
        font-size: 0.8em;
        margin: 15px 0;
      }

      .comparison-table {
        font-size: 0.7em;
        width: 100%;
        border-collapse: collapse;
      }

      .comparison-table th,
      .comparison-table td {
        border: 1px solid #444;
        padding: 8px;
        text-align: left;
      }

      .comparison-table th {
        background: rgba(0, 173, 238, 0.2);
      }

      .diagram {
        background: white;
        padding: 10px;
        border-radius: 5px;
        color: black;
        font-family: monospace;
      }

      .timing-diagram {
        background: #1e1e1e;
        padding: 15px;
        border-radius: 10px;
        font-family: monospace;
        font-size: 0.7em;
        line-height: 1.2;
      }

      .two-column {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        align-items: start;
      }

      .fragment.highlight-blue {
        color: #00adee;
      }

      .fragment.highlight-green {
        color: #00ff00;
      }

      .fragment.highlight-red {
        color: #ff4444;
      }

      /* Add soft transitions between slides */
      .reveal .slides section {
        transition: all 0.4s ease;
      }

      .center-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <!-- Titel -->
        <section>
          <h2>SPI - Serial Peripheral Interface</h2>
          <p class="author">Samuel Findenig und Oskar Rotman</p>
        </section>

        <section>
          <h3>Was erwartet euch?</h3>
          <ul>
            <li class="fragment">Grundprinzip und Aufbau von SPI</li>
            <li class="fragment">Detaillierte Betrachtung der Signale und Timing</li>
            <li class="fragment">Funktionsweise in Mikrocontrollern</li>
            <li class="fragment">Praktische Anwendungsbeispiele</li>
            <li class="fragment">Vergleich mit anderen Schnittstellen</li>
          </ul>
        </section>

		<!-- Geschichte -->
        <section>
          <h2>Geschichte & Entwicklung</h2>
          <div style="text-align: left;">
            <p class="fragment"><strong>1979:</strong> Entwicklung bei Motorola als serielle Schnittstelle</p>
            <p class="fragment"><strong>1980er:</strong> Erste Integration in Mikrocontroller</p>
            <p class="fragment"><strong>1990er:</strong> Wird zum De-facto-Standard</p>
            <p class="fragment"><strong>2000er:</strong> Ubiquitär in Embedded Systems</p>
            <p class="fragment"><strong>Heute:</strong> Weiterentwicklungen wie QSPI, Dual SPI</p>
          </div>
        </section>


<section>
  <!-- Subslide 1: Einführung -->
  <section>
    <h2>Was ist SPI?</h2>
    <p>
      Das <strong>Serial Peripheral Interface (SPI)</strong> ist ein 
      <strong>synchrones serielles Kommunikationsprotokoll</strong>, 
      das zur schnellen Datenübertragung zwischen Mikrocontrollern und Peripheriegeräten verwendet wird.
    </p>
  </section>

  <!-- Subslide 2: Eigenschaften -->
  <section>
    <h3>Eigenschaften</h3>
    <ul>
      <li class="fragment"><strong>Synchron:</strong> Gemeinsamer Takt für Sender und Empfänger</li>
      <li class="fragment"><strong>Voll-Duplex:</strong> Gleichzeitiges Senden und Empfangen</li>
      <li class="fragment"><strong>Master-Slave-Prinzip:</strong> Master steuert den Bus</li>
      <li class="fragment"><strong>Kurze Distanzen:</strong> Kommunikation meist auf derselben Platine</li>
      <li class="fragment"><strong>Hohe Geschwindigkeit:</strong> Typisch bis über 100&nbsp;MHz</li>
    </ul>
  </section>

  <!-- Subslide 3: Vorteile -->
  <section>
    <h3>Vorteile</h3>
    <ul>
      <li class="fragment">Einfaches und flexibles Protokoll</li>
      <li class="fragment">Sehr hohe Übertragungsraten</li>
      <li class="fragment">Geringer CPU-Overhead</li>
      <li class="fragment">Variable Datenlängen möglich</li>
    </ul>
  </section>

  <!-- Subslide 4: Nachteile -->
  <section>
    <h3>Nachteile</h3>
    <ul>
      <li class="fragment">Keine standardisierte Geräteadressierung</li>
      <li class="fragment">Benötigt mehrere Chip-Select-Leitungen bei mehreren Slaves</li>
      <li class="fragment">Keine eingebaute Fehlererkennung</li>
      <li class="fragment">Begrenzte Leitungslänge (nicht busfähig wie I²C)</li>
    </ul>
  </section>
</section>



<section>
  <h2>Typische Einsatzgebiete</h2>

  <div class="two-column">
    <!-- Left column -->
    <div>
      <ul>
        <li class="fragment">
          Sensoren
          <ul>
            <li class="fragment">Beschleunigungssensoren</li>
            <li class="fragment">Temperatursensoren</li>
            <li class="fragment">Drucksensoren</li>
            <li class="fragment">Gyroskope</li>
          </ul>
        </li>

        <li class="fragment">
          Speichermedien
          <ul>
            <li class="fragment">SD-Karten</li>
            <li class="fragment">Flash-Speicher</li>
            <li class="fragment">EEPROMs</li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- Right column -->
    <div>
      <ul>
        <li class="fragment">
          Displays
          <ul>
            <li class="fragment">OLED</li>
            <li class="fragment">TFT</li>
            <li class="fragment">LCD mit Controller</li>
          </ul>
        </li>

        <li class="fragment">
          Audio &amp; Kommunikation
          <ul>
            <li class="fragment">Audio-Codecs</li>
            <li class="fragment">WLAN-Module</li>
            <li class="fragment">Bluetooth-Module</li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</section>

<section>
  <!-- Subslide 1: Einführung -->
  <section>
    <h2>Master-Slave Architektur</h2>
    <p>SPI folgt einem strengen Master-Slave-Prinzip</p>
  </section>

  <!-- Subslide 2: Master-Rollen -->
  <section>
    <h3>Master-Rollen</h3>
    <ul>
      <li class="fragment">Generiert Takt (SCK)</li>
      <li class="fragment">Initiiert Kommunikation</li>
      <li class="fragment">Wählt Slaves über SS aus</li>
      <li class="fragment">Kontrolliert Timing</li>
    </ul>
  </section>

  <!-- Subslide 3: Slave-Rollen -->
  <section>
    <h3>Slave-Rollen</h3>
    <ul>
      <li class="fragment">Reagiert auf Master</li>
      <li class="fragment">Sendet Daten synchron</li>
      <li class="fragment">Kann nicht eigenständig kommunizieren</li>
      <li class="fragment">Wartet auf Selektion</li>
    </ul>
  </section>
</section>




        <!-- SPI-Signalleitungen -->
        <section>
          <h2>SPI-Signalleitungen</h2>
          <p>Mindestens vier Leitungen für eine SPI-Verbindung:</p>
          <table class="comparison-table">
            <tr class="fragment">
              <td><strong>MOSI</strong></td>
              <td>Master Out Slave In</td>
              <td>Daten vom Master zum Slave</td>
            </tr>
            <tr class="fragment">
              <td><strong>MISO</strong></td>
              <td>Master In Slave Out</td>
              <td>Daten vom Slave zum Master</td>
            </tr>
            <tr class="fragment">
              <td><strong>SCK</strong></td>
              <td>Serial Clock</td>
              <td>Takt-Signal vom Master</td>
            </tr>
            <tr class="fragment">
              <td><strong>SS/CS</strong></td>
              <td>Slave Select / Chip Select</td>
              <td>Aktiviert den jeweiligen Slave (active-low)</td>
            </tr>
          </table>
        </section>

        <!-- Elektrische Eigenschaften -->
        <section>
          <h2>Elektrische Eigenschaften</h2>
          <div class="two-column">
            <div class="fragment">
              <h4>Logikpegel:</h4>
              <ul>
                <li><strong>3.3V:</strong> Moderne Standardspannung</li>
                <li><strong>5V:</strong> Ältere Systeme, Industrie</li>
                <li><strong>1.8V:</strong> Low-Power Anwendungen</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>Besonderheiten:</h4>
              <ul>
                <li>Push-Pull Ausgänge</li>
                <li>Keine Pull-up Widerstände nötig</li>
                <li>TTL/CMOS kompatible Pegel</li>
                <li>Kurze Übertragungswege (&lt; 10cm)</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Voll-Duplex Kommunikation -->
        <section>
          <h2>Voll-Duplex Kommunikation</h2>
          <p>Daten werden gleichzeitig in beide Richtungen übertragen</p>
          <div class="fragment">
            <h4>Prinzip:</h4>
            <ul>
              <li>Jedes gesendete Bit bringt ein empfangenes Bit</li>
              <li>Höhere effektive Datenrate</li>
              <li>Echtzeit-Datenaustausch</li>
              <li>Effiziente Bus-Nutzung</li>
            </ul>
          </div>
          <div class="fragment">
            <h4>Beispiel:</h4>
            <p>Master sendet Kommando-Byte und empfängt gleichzeitig Sensor-Daten</p>
          </div>
        </section>

        <!-- Multi-Slave Konfigurationen -->
        <section>
          <h2>Multi-Slave Konfigurationen</h2>
          <div class="two-column">
            <div class="fragment">
              <h4>Unabhängige SS</h4>
              <div class="diagram">
                <small>Master → SS1 → Slave1</small><br>
                <small>Master → SS2 → Slave2</small><br>
                <small>Shared: MOSI, MISO, SCK</small>
              </div>
              <p><strong>Vorteil:</strong> Einfache Handhabung</p>
            </div>
            <div class="fragment">
              <h4>Daisy-Chain</h4>
              <div class="diagram">
                <small>Master → Slave1 → Slave2</small><br>
                <small>Daten durchlaufen alle Slaves</small>
              </div>
              <p><strong>Vorteil:</strong> Weniger Leitungen</p>
            </div>
          </div>
        </section>

        <!-- SPI Modi -->
        <section>
          <h2>SPI Modi - CPOL und CPHA</h2>
          <p>Vier Betriebsmodi durch Kombination von Clock-Polarität und Phase</p>
          <div class="two-column">
            <div class="fragment">
              <h4>CPOL (Clock Polarity):</h4>
              <ul>
                <li><strong>0:</strong> Ruhepegel LOW</li>
                <li><strong>1:</strong> Ruhepegel HIGH</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>CPHA (Clock Phase):</h4>
              <ul>
                <li><strong>0:</strong> Daten bei erster Taktflanke</li>
                <li><strong>1:</strong> Daten bei zweiter Taktflanke</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- SPI Mode Tabelle -->
        <section>
          <h2>SPI Mode Tabelle</h2>
          <table class="comparison-table">
            <tr>
              <th>Mode</th>
              <th>CPOL</th>
              <th>CPHA</th>
              <th>Beschreibung</th>
            </tr>
            <tr class="fragment">
              <td><strong>0</strong></td>
              <td>0</td>
              <td>0</td>
              <td>Daten bei steigender Flanke sampeln</td>
            </tr>
            <tr class="fragment">
              <td><strong>1</strong></td>
              <td>0</td>
              <td>1</td>
              <td>Daten bei fallender Flanke sampeln</td>
            </tr>
            <tr class="fragment">
              <td><strong>2</strong></td>
              <td>1</td>
              <td>0</td>
              <td>Daten bei fallender Flanke sampeln</td>
            </tr>
            <tr class="fragment">
              <td><strong>3</strong></td>
              <td>1</td>
              <td>1</td>
              <td>Daten bei steigender Flanke sampeln</td>
            </tr>
          </table>
          <p class="fragment" style="margin-top: 20px;"><strong>Wichtig:</strong> Master und Slave müssen gleichen Mode verwenden!</p>
        </section>

        <!-- Timing-Diagramm -->
        <section>
          <h2>Timing-Diagramm - Mode 0</h2>
          <div class="timing-diagram">
            <pre>
SCK (CPOL=0)  __   1   __   2   __   3   __   4   __   5   __   6   __   7   __   8   __
             |  |_____|  |_____|  |_____|  |_____|  |_____|  |_____|  |_____|  |_____|

SS           \_________________________/                               \________________
             |                         |                               |

MOSI         ----| D7 | D6 | D5 | D4 | D3 | D2 | D1 | D0 |------------------------------

MISO         ----| D7 | D6 | D5 | D4 | D3 | D2 | D1 | D0 |------------------------------
            </pre>
          </div>
          <ul style="font-size: 0.8em;">
            <li class="fragment"><strong>SS geht LOW:</strong> Kommunikation startet</li>
            <li class="fragment"><strong>Daten etablieren:</strong> Vor steigender Flanke</li>
            <li class="fragment"><strong>Daten sampeln:</strong> Bei steigender Taktflanke</li>
            <li class="fragment"><strong>SS geht HIGH:</strong> Kommunikation endet</li>
          </ul>
        </section>

        <!-- Initialisierung -->
        <section>
          <h2>Initialisierung und Konfiguration</h2>
          <p>Notwendige Einstellungen vor SPI-Betrieb:</p>
          <div class="two-column">
            <div class="fragment">
              <h4>Hardware-Konfiguration:</h4>
              <ul>
                <li>Taktfrequenz einstellen</li>
                <li>SPI-Modus wählen (CPOL/CPHA)</li>
                <li>Datenformat (MSB/LSB first)</li>
                <li>Slave-Select Pins konfigurieren</li>
                <li>SPI-Modul aktivieren</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>Software-Konfiguration:</h4>
              <ul>
                <li>Register setzen</li>
                <li>Interrupts konfigurieren</li>
                <li>DMA einrichten (optional)</li>
                <li>Initialisierungssequenz</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Übertragungsablauf -->
        <section>
          <h2>Übertragungsablauf</h2>
          <ol style="font-size: 0.9em;">
            <li class="fragment"><strong>Slave auswählen:</strong> SS-Pin auf LOW setzen</li>
            <li class="fragment"><strong>Takt generieren:</strong> SCK mit gewünschter Frequenz</li>
            <li class="fragment"><strong>Daten senden:</strong> Parallel-zu-Seriel auf MOSI</li>
            <li class="fragment"><strong>Daten empfangen:</strong> Seriel-zu-Parallel von MISO</li>
            <li class="fragment"><strong>Übertragung abschließen:</strong> SS-Pin auf HIGH setzen</li>
          </ol>
          <div class="fragment" style="margin-top: 20px;">
            <p><strong>Besonderheit:</strong> Jedes gesendete Byte bringt automatisch ein empfangenes Byte.</p>
          </div>
        </section>

        <!-- Mikrocontroller-Beispiel -->
        <section>
          <h2>Mikrocontroller-Beispiel</h2>
          <p>Dedizierte SPI-Hardwaremodule in modernen Mikrocontrollern:</p>
          <div class="two-column">
            <div class="fragment">
              <h4>AVR (Arduino)</h4>
              <ul style="font-size: 0.8em;">
                <li><strong>SPCR:</strong> SPI Control Register</li>
                <li><strong>SPSR:</strong> SPI Status Register</li>
                <li><strong>SPDR:</strong> SPI Data Register</li>
                <li>Integrierter Shift-Register</li>
                <li>Bis zu F_CPU/2 Geschwindigkeit</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>STM32 (ARM)</h4>
              <ul style="font-size: 0.8em;">
                <li><strong>SPIx_CR1/CR2:</strong> Control Register</li>
                <li><strong>SPIx_SR:</strong> Status Register</li>
                <li><strong>SPIx_DR:</strong> Data Register</li>
                <li>DMA-Unterstützung</li>
                <li>Bis zu 50+ MHz</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Betriebsarten -->
        <section>
          <h2>Betriebsarten</h2>
          <div class="two-column">
            <div class="fragment">
              <h4>Polling (Abfrage)</h4>
              <ul>
                <li>Einfache Implementierung</li>
                <li>CPU-lastig</li>
                <li>Gut für einfache Anwendungen</li>
                <li>Warteschleifen notwendig</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>Interrupt (Ereignis)</h4>
              <ul>
                <li>Effiziente CPU-Nutzung</li>
                <li>Komplexere Programmierung</li>
                <li>Ideal für Multi-Tasking</li>
                <li>Asynchrone Verarbeitung</li>
              </ul>
            </div>
          </div>
          <div class="fragment">
            <h4>DMA (Direct Memory Access)</h4>
            <ul>
              <li>CPU-freie Übertragung</li>
              <li>Für große Datenmengen</li>
              <li>Höchste Effizienz</li>
              <li>Komplexe Einrichtung</li>
            </ul>
          </div>
        </section>

        <!-- Code-Beispiel -->
        <section>
          <h2>Code-Beispiel - AVR C</h2>
          <div class="code-container">
            <pre><code class="c">
// SPI Initialisierung als Master
void SPI_MasterInit(void) {
    // MOSI, SCK, SS als Output
    DDR_SPI |= (1&lt;&lt;DD_MOSI)|(1&lt;&lt;DD_SCK)|(1&lt;&lt;DD_SS);
    
    // SPI aktivieren, Master, Mode 0, F_CPU/16
    SPCR = (1&lt;&lt;SPE)|(1&lt;&lt;MSTR)|(1&lt;&lt;SPR0);
}

// Daten senden und empfangen
uint8_t SPI_Transfer(uint8_t data) {
    // Daten in Register schreiben
    SPDR = data;
    
    // Warten bis Übertragung fertig
    while(!(SPSR & (1&lt;&lt;SPIF)));
    
    // Empfangene Daten zurückgeben
    return SPDR;
}

// Slave auswählen und abwählen
void SPI_SelectSlave(void) { PORT_SPI &amp;= ~(1&lt;&lt;DD_SS); }
void SPI_DeselectSlave(void) { PORT_SPI |= (1&lt;&lt;DD_SS); }
            </code></pre>
          </div>
        </section>

        <!-- Praxisbeispiel - Sensor -->
        <section>
          <h2>Praxisbeispiel - Beschleunigungssensor</h2>
          <p>MPU-6050 mit SPI-Schnittstelle:</p>
          <div class="code-container" style="font-size: 0.7em;">
            <pre><code class="c">
// Sensor konfigurieren
SPI_SelectSlave();
SPI_Transfer(0x6B);  // Power Management Register
SPI_Transfer(0x00);  // Wake up
SPI_DeselectSlave();

// Beschleunigungsdaten lesen
SPI_SelectSlave();
SPI_Transfer(0x3B | 0x80);  // ACCEL_XOUT_H mit Read-Bit
uint8_t x_high = SPI_Transfer(0x00);  // Dummy für Empfang
uint8_t x_low = SPI_Transfer(0x00);   // Nächster Transfer
SPI_DeselectSlave();

int16_t accel_x = (x_high &lt;&lt; 8) | x_low;
            </code></pre>
          </div>
        </section>

        <!-- Praxisbeispiel - SD-Karte -->
        <section>
          <h2>Praxisbeispiel - SD-Karte</h2>
          <p>SD-Karten unterstützen SPI-Mode für einfachere Ansteuerung:</p>
          <div style="font-size: 0.8em;">
            <div class="fragment">
              <h4>Initialisierungssequenz:</h4>
              <ol>
                <li>Mindestens 74 Taktimpulse ohne CS</li>
                <li>CMD0 (GO_IDLE_STATE) senden</li>
                <li>CMD8 (SEND_IF_COND) für Voltage Check</li>
                <li>CMD58 (READ_OCR) lesen</li>
                <li>ACMD41 (SD_SEND_OP_COND) initialisieren</li>
              </ol>
            </div>
            <div class="fragment">
              <h4>Block lesen (CMD17):</h4>
              <div class="code-container">
                <pre><code class="c">
SPI_Transfer(0x51);        // CMD17 - READ_SINGLE_BLOCK
SPI_Transfer(adress >> 24); // 32-bit Address
SPI_Transfer(adress >> 16);
SPI_Transfer(adress >> 8);
SPI_Transfer(adress);
SPI_Transfer(0x95);        // CRC

// Warte auf Data Token (0xFE)
while(SPI_Transfer(0xFF) != 0xFE);

// Lese 512 Byte Daten
for(int i=0; i&lt;512; i++) {
    buffer[i] = SPI_Transfer(0xFF);
}
                </code></pre>
              </div>
            </div>
          </div>
        </section>

        <!-- Blockdiagramm -->
        <section>
          <h2>Blockdiagramm - Typische SPI Schaltung</h2>
          <div class="diagram">
            <pre style="font-size: 0.6em; line-height: 1.3;">
    ╔═════════════════════╗
    ║   Mikrocontroller   ║
    ║      (Master)       ║
    ╠═════════════════════╣
    ║ MOSI → ───────────┐ ║
    ║ MISO ← ───────────┘ ║
    ║ SCK  → ───────────┐ ║
    ║ SS1  → ────┐      │ ║
    ║ SS2  → ────┼────┐ │ ║
    ╚════════════│====│=│=╝
                 │    │ │
    ╔════════════╩╗   │ │   ╔════════════╗
    ║   Sensor    ║   │ │   ║  Display   ║
    ║  (Slave1)   ║   │ │   ║  (Slave3)  ║
    ╠═════════════╣   │ │   ╠════════════╣
    ║ MOSI ← ─────┼───┘ │   ║ MOSI ← ────┼─────┐
    ║ MISO → ─────┼─────┘   ║ MISO → ────┼─────┘
    ║ SCK  ← ─────┼─────────║ SCK  ← ────┼─────┐
    ║ SS   ← ─────┘         ║ SS   ← ────┘     │
    ╚═══════════════════════╚══════════════════╝
            </pre>
          </div>
          <p class="fragment"><strong>Shared Bus:</strong> MOSI, MISO, SCK werden von allen Slaves geteilt</p>
          <p class="fragment"><strong>Individuelle SS:</strong> Jeder Slave hat eigene Select-Leitung</p>
        </section>

        <!-- Performance-Vergleich -->
        <section>
          <h2>Performance-Vergleich</h2>
          <table class="comparison-table">
            <tr>
              <th>Schnittstelle</th>
              <th>Max. Geschwindigkeit</th>
              <th>Typische Anwendung</th>
              <th>Effizienz</th>
            </tr>
            <tr class="fragment">
              <td><strong>SPI</strong></td>
              <td>50-100+ MHz</td>
              <td>Sensoren, Speicher, Displays</td>
              <td>Sehr hoch (~90%)</td>
            </tr>
            <tr class="fragment">
              <td><strong>I²C</strong></td>
              <td>100 kHz - 3.4 MHz</td>
              <td>Konfigurationsregister, ICs</td>
              <td>Mittel (~70%)</td>
            </tr>
            <tr class="fragment">
              <td><strong>UART</strong></td>
              <td>115.2 kbaud - 4 Mbaud</td>
              <td>PC-Kommunikation, Module</td>
              <td>Niedrig (~50%)</td>
            </tr>
          </table>
          <p class="fragment" style="margin-top: 20px;"><strong>SPI Vorteil:</strong> Kein Adress-Overhead, direkte Datenübertragung</p>
        </section>

        <!-- Vor- und Nachteile -->
        <section>
          <h2>Vor- und Nachteile</h2>
          <div class="two-column">
            <div>
              <h4 class="fragment highlight-green">Vorteile</h4>
              <ul>
                <li class="fragment">Sehr hohe Geschwindigkeit</li>
                <li class="fragment">Einfaches Protokoll</li>
                <li class="fragment">Voll-Duplex Betrieb</li>
                <li class="fragment">Flexible Datenlängen</li>
                <li class="fragment">Keine Adressierung nötig</li>
                <li class="fragment">Push-Pull Treiber</li>
                <li class="fragment">Wenig CPU-Overhead</li>
              </ul>
            </div>
            <div>
              <h4 class="fragment highlight-red">Nachteile</h4>
              <ul>
                <li class="fragment">Viele Leitungen (4+ pro Slave)</li>
                <li class="fragment">Keine Fehlererkennung</li>
                <li class="fragment">Kein Flow-Control</li>
                <li class="fragment">Nur kurze Distanzen</li>
                <li class="fragment">Kein Multi-Master</li>
                <li class="fragment">Hardware-Addressierung</li>
                <li class="fragment">Standardisierung fehlt</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Vergleichstabelle -->
        <section>
          <h2>Vergleichstabelle: SPI vs I²C vs UART</h2>
          <table class="comparison-table">
            <tr>
              <th>Merkmal</th>
              <th>SPI</th>
              <th>I²C</th>
              <th>UART</th>
            </tr>
            <tr class="fragment">
              <td><strong>Geschwindigkeit</strong></td>
              <td>Hoch (100+ MHz)</td>
              <td>Mittel (3.4 MHz)</td>
              <td>Niedrig (4 Mbaud)</td>
            </tr>
            <tr class="fragment">
              <td><strong>Leitungen</strong></td>
              <td>4+ (pro Slave mehr SS)</td>
              <td>2 (shared)</td>
              <td>2-3 (pro Verbindung)</td>
            </tr>
            <tr class="fragment">
              <td><strong>Duplex</strong></td>
              <td>Voll</td>
              <td>Halb</td>
              <td>Voll/Halb</td>
            </tr>
            <tr class="fragment">
              <td><strong>Synchronisation</strong></td>
              <td>Synchron (SCK)</td>
              <td>Synchron (SCL)</td>
              <td>Asynchron</td>
            </tr>
            <tr class="fragment">
              <td><strong>Topologie</strong></td>
              <td>Master-Slave</td>
              <td>Multi-Master</td>
              <td>Peer-to-Peer</td>
            </tr>
            <tr class="fragment">
              <td><strong>Hardware-Overhead</strong></td>
              <td>Gering</td>
              <td>Mittel</td>
              <td>Gering</td>
            </tr>
          </table>
        </section>

        <!-- Fehlerquellen -->
        <section>
          <h2>Fehlerquellen und Debugging</h2>
          <div class="two-column">
            <div class="fragment">
              <h4>Häufige Probleme:</h4>
              <ul>
                <li>Falscher SPI-Mode</li>
                <li>Taktfrequenz zu hoch</li>
                <li>Slave-Select Timing</li>
                <li>Elektrische Probleme</li>
                <li>Race Conditions</li>
                <li>Pegelanpassung</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>Debugging-Tools:</h4>
              <ul>
                <li>Logikanalysator</li>
                <li>Oszilloskop</li>
                <li>SPI-Bus-Monitor</li>
                <li>Bit-banging Test</li>
                <li>Protokoll-Analyzer</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Zusammenfassung -->
        <section>
          <h2>Zusammenfassung</h2>
          <div style="text-align: left; font-size: 0.9em;">
            <p class="fragment"><strong>SPI ist ein synchrones serielles Interface</strong> mit Master-Slave-Architektur</p>
            <p class="fragment"><strong>Vier Grundleitungen:</strong> MOSI, MISO, SCK, SS/CS</p>
            <p class="fragment"><strong>Vier Betriebsmodi:</strong> Definiert durch CPOL und CPHA (0-3)</p>
            <p class="fragment"><strong>Voll-Duplex:</strong> Gleichzeitige Übertragung in beide Richtungen</p>
            <p class="fragment"><strong>Hohe Geschwindigkeit:</strong> Bis zu 100+ MHz, effizient durch wenig Overhead</p>
            <p class="fragment"><strong>Einfache Implementierung:</strong> Wenig Protokoll-Overhead</p>
            <p class="fragment"><strong>Ideale Anwendung:</strong> Board-interne Hochgeschwindigkeitskommunikation</p>
          </div>
        </section>

        <!-- Moderne Entwicklungen -->
        <section>
          <h2>Moderne Entwicklungen</h2>
          <div class="two-column">
            <div class="fragment">
              <h4>QSPI (Quad SPI)</h4>
              <ul>
                <li>Vier Datenleitungen</li>
                <li>Bis zu 4x höherer Durchsatz</li>
                <li>Für Flash-Speicher</li>
                <li>DDR (Dual Data Rate)</li>
              </ul>
            </div>
            <div class="fragment">
              <h4>Dual SPI</h4>
              <ul>
                <li>Zwei Datenleitungen</li>
                <li>Bidirektionale Nutzung</li>
                <li>Einfache Erweiterung</li>
                <li>Höhere Effizienz</li>
              </ul>
            </div>
          </div>
          <div class="fragment">
            <h4>SPI Flash Memory</h4>
            <ul>
              <li>Nicht-flüchtiger Speicher</li>
              <li>Weit verbreitet in Embedded Systems</li>
              <li>Einfachere Ansteuerung</li>
              <li>Hohe Geschwindigkeit</li>
            </ul>
          </div>
        </section>

        <!-- Quiz -->
        <section>
          <h2>Quiz - Verständnisfragen</h2>
          <div style="text-align: left;">
            <p class="fragment"><strong>1. Wofür steht die Abkürzung SPI?</strong></p>
            <p class="fragment" style="margin-left: 20px;">Serial Peripheral Interface</p>
            
            <p class="fragment"><strong>2. Wie viele Leitungen benötigt SPI minimal für einen Slave?</strong></p>
            <p class="fragment" style="margin-left: 20px;">4 Leitungen: MOSI, MISO, SCK, SS</p>
            
            <p class="fragment"><strong>3. Was bedeutet CPHA und welche Werte kann sie annehmen?</strong></p>
            <p class="fragment" style="margin-left: 20px;">Clock Phase, definiert wann Daten gesampelt werden (0 oder 1)</p>
            
            <p class="fragment"><strong>4. Welchen großen Vorteil hat SPI gegenüber I²C?</strong></p>
            <p class="fragment" style="margin-left: 20px;">Höhere Geschwindigkeit, Voll-Duplex, einfacheres Protokoll</p>
          </div>
        </section>

        <!-- Quellen -->
        <section>
          <h2>Quellen & Literatur</h2>
          <div style="font-size: 0.8em; text-align: left;">
            <div class="fragment">
              <h4>Datenblätter und Applikationsnotizen:</h4>
              <ul>
                <li>"SPI Block Guide V03.06" - Motorola/Freescale</li>
                <li>ATmega328P Datasheet - Microchip</li>
                <li>STM32F4 Reference Manual - STMicroelectronics</li>
              </ul>
            </div>
            
            <div class="fragment">
              <h4>Bücher:</h4>
              <ul>
                <li>"The Designer's Guide to the Cortex-M Processor Family" - Trevor Martin</li>
                <li>"Embedded Systems Architecture" - Daniele Lacamera</li>
                <li>"Make: AVR Programming" - Elliot Williams</li>
              </ul>
            </div>
            
            <div class="fragment">
              <h4>Online Ressourcen:</h4>
              <ul>
                <li>SPI Tutorial - SparkFun, Adafruit</li>
                <li>ARM Developer Documentation</li>
                <li>Microchip University</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Ende -->
        <section class="center-content">
          <h1>Vielen Dank für Ihre Aufmerksamkeit!</h1>
          <p>Fragen & Diskussion</p>
        </section>

        <!-- Danksagung -->
        <section class="center-content">
          <h2>Danksagung</h2>
          <p>Besonderer Dank an unsere Betreuer und Lehrer</p>
          <div class="fragment">
            <p><strong>Für die Unterstützung bei:</strong></p>
            <ul>
              <li>Technischen Fragen und Problemen</li>
              <li>Bereitstellung der Hardware</li>
              <li>Fachlichem Input und Feedback</li>
              <li>Organisatorischer Unterstützung</li>
            </ul>
          </div>
        </section>

      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
    <script>
      Reveal.initialize({
        hash: true,
        plugins: [RevealHighlight],
        transition: 'convex',
        backgroundTransition: 'slide',
        pdfSeparateFragments: false
      });
    </script>
  </body>
</html>